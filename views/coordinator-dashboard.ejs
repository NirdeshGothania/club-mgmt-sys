<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css">
    <title>Coordinator Dashboard</title>
</head>
<body>
    <h1>Hello <%= user %></h1>
    <h1>Welcome to the Coordinator Dashboard</h1>

    <p>You have access to coordinator features.</p>
    
    <!-- <h2>Events List</h2>
    <ul>
        <% events.forEach(function(event) { %>
            <li>
                <strong>Event Name:</strong> <%= event.event_name %><br>
                <strong>Event Description:</strong> <%= event.event_desc %><br>
                <strong>Start Date:</strong> <%= event.start_date %><br>
                <strong>End Date:</strong> <%= event.end_date %><br>
                <strong>Room:</strong> <%= event.room %><br>
                <strong>Budget:</strong> <%= event.budget %><br>
                <strong>Status :</strong> <%= (event.status == null) ? "Pending" : (event.status ? "Accepted" : "Rejected") %><br>

            </li>
        <% }); %>
    </ul>


    <h2>Registered Students List:</h2>
    <ul>
        <% events.forEach(function(event) { %>
            <li>
                <strong>Event Name:</strong> <%= event.event_name %><br>
                <strong>Event Description:</strong> <%= event.event_desc %><br>
                <strong>Registered Students:</strong>
                <ul>
                    <% event.students.forEach(function(student) { %>
                        <li>
                            <%= student.student_name %> - <%= student.rollnumber %>
                        </li>
                    <% }); %>
                </ul>

            </li>
        <% }); %>
    </ul>
    

    <li><a href="/students/create-event">Create Event</a></li>
    <a href="/students/logout">Logout</a> -->

    <h2>Events List</h2>
    <table>
        <thead>
            <tr>
                <th>Event Name</th>
                <th>Event Description</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Room</th>
                <th>Budget</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <% events.forEach(function(event) { %>
                <tr>
                    <td><%= event.event_name %></td>
                    <td><%= event.event_desc %></td>
                    <td><%= event.start_date %></td>
                    <td><%= event.end_date %></td>
                    <td><%= event.room %></td>
                    <td><%= event.budget %></td>
                    <td><%= (event.status == null) ? "Pending" : (event.status ? "Accepted" : "Rejected") %></td>
                </tr>
            <% }); %>
        </tbody>
    </table>

    <h2>Registered Students List:</h2>
    <% events.forEach(function(event) { %>
        <h3><%= event.event_name %></h3>
        <table>
            <thead>
                <tr>
                    <th>Student Name</th>
                    <th>Roll Number</th>
                </tr>
            </thead>
            <tbody>
                <% event.students.forEach(function(student) { %>
                    <tr>
                        <td><%= student.student_name %></td>
                        <td><%= student.rollnumber %></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    <% }); %>

    <ul>
        <li><a href="/students/create-event">Create Event</a></li>
    </ul>
    <a href="/students/logout">Logout</a>
</body>
</html>